{% extends 'admin/master.html' %}

{% block page_title %}
<h1 class="text-xl font-semibold text-gray-800 mb-4">
  {{ layout.menu_icon(admin_view.menu) }}
  {{ list_title }} (<span id="words-count">{{ total_count }}</span>)
</h1>
{% endblock %}

{% block body %}
<div>
  <div class="my-3 flex flex-wrap gap-2">
    {% if import_url %}
    <button type="button" class="btn btn__primary text-sm" data-modal-open="import-modal"><i class="fa fa-upload"></i> Импорт</button>
    {% endif %}
    {% if export_url %}
    <a href="{{ export_url }}" class="btn btn__secondary text-sm" download><i class="fa fa-download"></i> Экспорт</a>
    {% else %}
    <button type="button" class="px-4 py-2 rounded border border-gray-200 bg-gray-100 text-gray-400 cursor-not-allowed" disabled><i class="fa fa-download"></i> Экспорт</button>
    {% endif %}
    {% if import_url %}
    <button type="button" class="btn btn__secondary text-sm" data-modal-open="minusate-modal"><i class="fa fa-minus-circle"></i> Минусация</button>
    {% else %}
    <button type="button" class="px-4 py-2 rounded border border-gray-200 bg-gray-100 text-gray-400 cursor-not-allowed" disabled><i class="fa fa-minus-circle"></i> Минусация</button>
    {% endif %}
  </div>

  {% if import_url %}
  {% include 'admin/components/import_txt_modal.html' with context %}
  {% include 'admin/components/minusate_txt_modal.html' with context %}
  {% include 'admin/components/edit_phrase_modal.html' %}
  {% include 'admin/components/delete_phrase_modal.html' %}
  {% endif %}

  <div class="relative my-3">
    <div class="pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400">
      <i class="fa fa-search" aria-hidden="true"></i>
    </div>
    <input type="text" id="word-search" name="q" placeholder="Введите слово для поиска" class="inputField inputField__default inputField__withIcon"{% if data_url %} data-data-url="{{ data_url }}"{% endif %}>
  </div>

  <div id="words-grid-wrapper" class="my-3"></div>
</div>

<style>
#words-grid-wrapper .gridjs-wrapper { font-size: 0.8125rem; }
#words-grid-wrapper .gridjs-table { width: 100%; table-layout: auto; }
#words-grid-wrapper .gridjs-th,
#words-grid-wrapper .gridjs-td { padding: 0.25rem 0.5rem; vertical-align: middle; }
#words-grid-wrapper .gridjs-th:first-child,
#words-grid-wrapper .gridjs-td:first-child { width: 99%; }
#words-grid-wrapper .gridjs-th:nth-child(2),
#words-grid-wrapper .gridjs-td:nth-child(2),
#words-grid-wrapper .gridjs-th:nth-child(3),
#words-grid-wrapper .gridjs-td:nth-child(3) {
  width: 1%;
  white-space: nowrap;
}
#words-grid-wrapper .gridjs-th:last-child,
#words-grid-wrapper .gridjs-td:last-child { text-align: right; }
#words-grid-wrapper .gridjs-btn {
    margin-left: 0.2rem;
    padding: 0.15rem 0.35rem;
    font-size: 0.75rem;
}
#words-grid-wrapper .gridjs-btn:first-child { margin-left: 0; }
.search-highlight { background-color: #93c5fd; }
</style>
{% endblock %}
