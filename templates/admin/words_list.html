{% extends 'admin/master.html' %}
{% from 'admin/components/page_title.html' import page_title %}

{% block body %}
<div class="container-fluid">
  <h1 class="page-title text-black text-3xl font-semibold mb-3">
      <span>{{ list_title }}</span>
      (<span id="words-count">{{ total_count }}</span>)
  </h1>

  <div class="my-3 d-flex gap-2">
    {% if import_url %}
    <button type="button" class="btn btn-primary" data-modal-open="import-modal"><i class="fa fa-upload"></i> Импорт</button>
    {% endif %}
    {% if export_url %}
    <a href="{{ export_url }}" class="btn btn-secondary" download><i class="fa fa-download"></i> Экспорт</a>
    {% else %}
    <button type="button" class="btn btn-secondary" disabled><i class="fa fa-download"></i> Экспорт</button>
    {% endif %}
    {% if import_url %}
    <button type="button" class="btn btn-secondary" data-modal-open="minusate-modal"><i class="fa fa-minus-circle"></i> Минусация</button>
    {% else %}
    <button type="button" class="btn btn-secondary" disabled><i class="fa fa-minus-circle"></i> Минусация</button>
    {% endif %}
  </div>

  {% if import_url %}
  {% include 'admin/components/import_txt_modal.html' with context %}
  {% include 'admin/components/minusate_txt_modal.html' with context %}
  {% include 'admin/components/edit_phrase_modal.html' %}
  {% include 'admin/components/delete_phrase_modal.html' %}
  {% endif %}

  <div class="relative my-3">
    <div class="pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400">
      <i class="fa fa-search" aria-hidden="true"></i>
    </div>
    <input type="text" id="word-search" name="q" placeholder="Введите слово для поиска" class="block w-full rounded-lg border border-gray-300 bg-white py-2 pl-10  pr-3 text-sm placeholder-gray-500 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"{% if data_url %} data-data-url="{{ data_url }}"{% endif %}>
  </div>

  <div id="words-grid-wrapper" class="my-3"></div>
</div>

<style>
#words-grid-wrapper .gridjs-wrapper { font-size: 0.8125rem; }
#words-grid-wrapper .gridjs-table { width: 100%; table-layout: auto; }
#words-grid-wrapper .gridjs-th,
#words-grid-wrapper .gridjs-td { padding: 0.25rem 0.5rem; vertical-align: middle; }
#words-grid-wrapper .gridjs-th:first-child,
#words-grid-wrapper .gridjs-td:first-child { width: 99%; }
#words-grid-wrapper .gridjs-th:nth-child(2),
#words-grid-wrapper .gridjs-td:nth-child(2),
#words-grid-wrapper .gridjs-th:nth-child(3),
#words-grid-wrapper .gridjs-td:nth-child(3) {
  width: 1%;
  white-space: nowrap;
}
#words-grid-wrapper .gridjs-th:last-child,
#words-grid-wrapper .gridjs-td:last-child { text-align: right; }
#words-grid-wrapper .gridjs-btn {
    margin-left: 0.2rem;
    padding: 0.15rem 0.35rem;
    font-size: 0.75rem;
}
#words-grid-wrapper .gridjs-btn:first-child { margin-left: 0; }
.search-highlight { background-color: #93c5fd; }
</style>
{% endblock %}
